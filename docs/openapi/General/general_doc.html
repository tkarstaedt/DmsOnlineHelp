<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PEAK.X OpenAPI â€“ General Instructions</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
    
    <script src="https://unpkg.com/lucide@latest"></script>

    <link rel="icon" type="image/svg+xml" href='data:image/svg+xml;utf8,<svg id="Ebene_1" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 350.3 350.5"><defs><style>.st0{fill:%23F84E2B;}.st1{fill:%23fff;}</style></defs><polygon class="st0" points="0 .2 0 350.2 175 350.2 350 175.2 350 .2 0 .2"/><g><path class="st1" d="M32.4,67.3h-7.4V25.2h16.6c.4,0,.9,0,1.5,0,.7,0,1.2,0,1.7.2,2.3.4,4.3,1.2,5.8,2.5,1.5,1.3,2.6,2.9,3.3,4.8.7,1.9,1.1,4.1,1.1,6.4s-.4,4.5-1.1,6.4-1.8,3.5-3.3,4.8c-1.5,1.3-3.4,2.1-5.8,2.5-.5,0-1.1.1-1.8.2s-1.2,0-1.5,0h-9.2v14.3h0ZM32.4,32.7v13h8.9c.4,0,.8,0,1.3,0s.9-.1,1.3-.2c1-.3,1.8-.8,2.3-1.5.5-.7.9-1.5,1.1-2.3.2-.8.3-1.7.3-2.4s-.1-1.6-.3-2.4c-.2-.8-.6-1.6-1.1-2.3-.5-.7-1.3-1.2-2.3-1.5-.4-.1-.8-.2-1.3-.2s-.9,0-1.3,0c0,0-8.9,0-8.9,0Z"/><path class="st1" d="M87.6,67.3h-25.7V25.2h25.7v7.4h-18.3v9h15v7.4h-15v10.8h18.3v7.4h0Z"/><path class="st1" d="M100.5,67.3h-7.7l12-42.1h11.1l12,42.1h-7.7l-10.7-37.1h1.4l-10.6,37.1h0ZM120.8,58.6h-20.8v-7.4h20.8v7.4Z"/><path class="st1" d="M141.7,67.3h-7.4V25.2h7.4v19.4l15-19.4h9.1l-16.5,20.8,17.5,21.3h-9.4l-15.7-19.2v19.2h0Z"/><path class="st1" d="M31.9,124.7h-6.9v-42.1h6.7l13,28,13-27.9h6.7v42.1h-6.9v-25.1l-11.4,25.1h-2.6l-11.4-25.1s0,25.1,0,25.1Z"/><path class="st1" d="M90.3,125.5c-3.9,0-7.3-.9-10.2-2.8s-5.1-4.4-6.6-7.7c-1.5-3.3-2.3-7.1-2.3-11.5s.8-8.2,2.3-11.5-3.7,5.9,6.6-7.7,6.2-2.8,10.2-2.8,7.3.9,10.2,2.8c2.8,1.8,5.1,4.4,6.6,7.7s2.3,7.1,2.3,11.5-.8,8.2-2.3,11.5-3.7,5.9-6.6,7.7-6.2,2.8-10.2,2.8ZM90.3,118.1c2.5,0,4.6-.5,6.2-1.7,1.7-1.2,2.9-2.9,3.7-5.1.8-2.2,1.2-4.7,1.2-7.7s-.4-5.5-1.2-7.6c-.8-2.1-2.1-3.8-3.7-5s-3.7-1.8-6.2-1.8c-2.5,0-4.6.5-6.2,1.7-1.7,1.2-2.9,2.9-3.7,5.1s-1.2,4.7-1.2,7.7.4,5.5,1.2,7.6c.8,2.1,2.1,3.8,3.7,5s3.7,1.8,6.2,1.8Z"/><path class="st1" d="M133.7,124.7h-17.4v-42.1h15.8c2.8,0,5.1.6,6.8,1.8,1.7,1.2,3,2.7,3.8,4.5.8,1.8,1.2,3.6,1.2,5.5s-.5,4.3-1.5,5.9-2.4,2.6-4.1,3.1v-1.5c2.5.6,4.3,1.8,5.5,3.7s1.9,4,1.9,6.3-.4,4.7-1.3,6.6c-.9,1.9-2.2,3.4-3.9,4.5-1.8,1.1-4,1.6-6.7,1.6h0ZM123.8,90v9h8.1c.8,0,1.6-.2,2.2-.5.7-.3,1.2-.8,1.6-1.4.4-.7.6-1.5.6-2.5s-.4-2.4-1.1-3.2c-.8-.9-1.8-1.3-3.2-1.3h-8.1ZM123.8,106.4v10.8h9.1c1,0,1.9-.2,2.7-.7s1.4-1.1,1.9-1.9c.4-.8.7-1.8.7-2.9s-.2-1.9-.6-2.7-1-1.4-1.7-1.9c-.8-.5-1.7-.7-2.9-.7h-9.1Z"/><path class="st1" d="M160.4,124.7h-7.4v-42.1h7.4v42.1Z"/><path class="st1" d="M194.9,124.7h-24.4v-42.1h7.4v34.7h16.9v7.4Z"/><path class="st1" d="M208.9,124.7h-7.4v-42.1h7.4v42.1Z"/><path class="st1" d="M235,124.7h-7.4v-34.7h-12.4v-7.4h32.3v7.4h-12.4v34.7h0Z"/><path class="st1" d="M272,124.7h-7.5v-17.1l-13.4-25h8.7l8.5,15.8,8.5-15.8h8.7l-13.5,25v17.1h0Z"/></g></svg>'>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Manrope', 'sans-serif'],
                        mono: ['JetBrains Mono', 'monospace'],
                    },
                    colors: {
                        peak: {
                            orange: '#F84E2B', 
                            grey: '#D8D0C4',   
                            green: '#9CA28B',  
                            dark: '#111827'
                        }
                    }
                }
            }
        }
    </script>

    <style>
        /* Custom Scrollbar */
        pre::-webkit-scrollbar { height: 8px; }
        pre::-webkit-scrollbar-track { background: #2d2d2d; border-radius: 4px; }
        pre::-webkit-scrollbar-thumb { background: #555; border-radius: 4px; }
        pre::-webkit-scrollbar-thumb:hover { background: #777; }
        
        section { scroll-margin-top: 2rem; }
        
        .nav-item.active {
            color: #F84E2B;
            border-left: 3px solid #F84E2B;
            background-color: rgba(248, 78, 43, 0.05);
            font-weight: 600;
        }
        
        /* Table Styles specific for Modularity list */
        .mod-header { background-color: #f3f4f6; font-weight: 700; color: #111827; }
        .modules-table th:first-child { width: 45%; }
        .modules-table tbody tr td:first-child:not([colspan]) {
            width: 45%;
            white-space: nowrap;
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800 antialiased">

    <div class="lg:hidden bg-white border-b p-4 flex justify-between items-center sticky top-0 z-50">
        <div class="flex items-center gap-3">
            <svg width="40" viewBox="0 0 350.3 350.5" xmlns="http://www.w3.org/2000/svg">
                <defs><style>.st0{fill:#F84E2B;}.st1{fill:#fff;}</style></defs>
                <polygon class="st0" points="0 .2 0 350.2 175 350.2 350 175.2 350 .2 0 .2"/>
                <g><path class="st1" d="M32.4,67.3h-7.4V25.2h16.6c.4,0,.9,0,1.5,0,.7,0,1.2,0,1.7.2,2.3.4,4.3,1.2,5.8,2.5,1.5,1.3,2.6,2.9,3.3,4.8.7,1.9,1.1,4.1,1.1,6.4s-.4,4.5-1.1,6.4-1.8,3.5-3.3,4.8c-1.5,1.3-3.4,2.1-5.8,2.5-.5,0-1.1.1-1.8.2s-1.2,0-1.5,0h-9.2v14.3h0ZM32.4,32.7v13h8.9c.4,0,.8,0,1.3,0s.9-.1,1.3-.2c1-.3,1.8-.8,2.3-1.5.5-.7.9-1.5,1.1-2.3.2-.8.3-1.7.3-2.4s-.1-1.6-.3-2.4c-.2-.8-.6-1.6-1.1-2.3-.5-.7-1.3-1.2-2.3-1.5-.4-.1-.8-.2-1.3-.2s-.9,0-1.3,0c0,0-8.9,0-8.9,0Z"/><path class="st1" d="M87.6,67.3h-25.7V25.2h25.7v7.4h-18.3v9h15v7.4h-15v10.8h18.3v7.4h0Z"/><path class="st1" d="M100.5,67.3h-7.7l12-42.1h11.1l12,42.1h-7.7l-10.7-37.1h1.4l-10.6,37.1h0ZM120.8,58.6h-20.8v-7.4h20.8v7.4Z"/><path class="st1" d="M141.7,67.3h-7.4V25.2h7.4v19.4l15-19.4h9.1l-16.5,20.8,17.5,21.3h-9.4l-15.7-19.2v19.2h0Z"/><path class="st1" d="M31.9,124.7h-6.9v-42.1h6.7l13,28,13-27.9h6.7v42.1h-6.9v-25.1l-11.4,25.1h-2.6l-11.4-25.1s0,25.1,0,25.1Z"/><path class="st1" d="M90.3,125.5c-3.9,0-7.3-.9-10.2-2.8s-5.1-4.4-6.6-7.7c-1.5-3.3-2.3-7.1-2.3-11.5s.8-8.2,2.3-11.5-3.7,5.9,6.6-7.7,6.2-2.8,10.2-2.8,7.3.9,10.2,2.8c2.8,1.8,5.1,4.4,6.6,7.7s2.3,7.1,2.3,11.5-.8,8.2-2.3,11.5-3.7,5.9-6.6,7.7-6.2,2.8-10.2,2.8ZM90.3,118.1c2.5,0,4.6-.5,6.2-1.7,1.7-1.2,2.9-2.9,3.7-5.1.8-2.2,1.2-4.7,1.2-7.7s-.4-5.5-1.2-7.6c-.8-2.1-2.1-3.8-3.7-5s-3.7-1.8-6.2-1.8c-2.5,0-4.6.5-6.2,1.7-1.7,1.2-2.9,2.9-3.7,5.1s-1.2,4.7-1.2,7.7.4,5.5,1.2,7.6c.8,2.1,2.1,3.8,3.7,5s3.7,1.8,6.2,1.8Z"/><path class="st1" d="M133.7,124.7h-17.4v-42.1h15.8c2.8,0,5.1.6,6.8,1.8,1.7,1.2,3,2.7,3.8,4.5.8,1.8,1.2,3.6,1.2,5.5s-.5,4.3-1.5,5.9-2.4,2.6-4.1,3.1v-1.5c2.5.6,4.3,1.8,5.5,3.7s1.9,4,1.9,6.3-.4,4.7-1.3,6.6c-.9,1.9-2.2,3.4-3.9,4.5-1.8,1.1-4,1.6-6.7,1.6h0ZM123.8,90v9h8.1c.8,0,1.6-.2,2.2-.5.7-.3,1.2-.8,1.6-1.4.4-.7.6-1.5.6-2.5s-.4-2.4-1.1-3.2c-.8-.9-1.8-1.3-3.2-1.3h-8.1ZM123.8,106.4v10.8h9.1c1,0,1.9-.2,2.7-.7s1.4-1.1,1.9-1.9c.4-.8.7-1.8.7-2.9s-.2-1.9-.6-2.7-1-1.4-1.7-1.9c-.8-.5-1.7-.7-2.9-.7h-9.1Z"/><path class="st1" d="M160.4,124.7h-7.4v-42.1h7.4v42.1Z"/><path class="st1" d="M194.9,124.7h-24.4v-42.1h7.4v34.7h16.9v7.4Z"/><path class="st1" d="M208.9,124.7h-7.4v-42.1h7.4v42.1Z"/><path class="st1" d="M235,124.7h-7.4v-34.7h-12.4v-7.4h32.3v7.4h-12.4v34.7h0Z"/><path class="st1" d="M272,124.7h-7.5v-17.1l-13.4-25h8.7l8.5,15.8,8.5-15.8h8.7l-13.5,25v17.1h0Z"/></g>
            </svg>
            <div class="font-bold text-xl text-gray-900">PEAK.X API</div>
        </div>
        <button id="mobile-menu-btn" class="p-2 text-gray-600 hover:text-gray-900">
            <i data-lucide="menu"></i>
        </button>
    </div>

    <div class="flex min-h-screen">
        
        <aside id="sidebar" class="fixed inset-y-0 left-0 z-40 w-72 bg-white border-r transform -translate-x-full lg:translate-x-0 transition-transform duration-200 ease-in-out overflow-y-auto">
            <div class="p-6 border-b sticky top-0 bg-white z-10">
                <div class="flex items-center gap-3 mb-2">
                    <svg width="50" viewBox="0 0 350.3 350.5" xmlns="http://www.w3.org/2000/svg">
                        <defs><style>.st0{fill:#F84E2B;}.st1{fill:#fff;}</style></defs>
                        <polygon class="st0" points="0 .2 0 350.2 175 350.2 350 175.2 350 .2 0 .2"/>
                        <g><path class="st1" d="M32.4,67.3h-7.4V25.2h16.6c.4,0,.9,0,1.5,0,.7,0,1.2,0,1.7.2,2.3.4,4.3,1.2,5.8,2.5,1.5,1.3,2.6,2.9,3.3,4.8.7,1.9,1.1,4.1,1.1,6.4s-.4,4.5-1.1,6.4-1.8,3.5-3.3,4.8c-1.5,1.3-3.4,2.1-5.8,2.5-.5,0-1.1.1-1.8.2s-1.2,0-1.5,0h-9.2v14.3h0ZM32.4,32.7v13h8.9c.4,0,.8,0,1.3,0s.9-.1,1.3-.2c1-.3,1.8-.8,2.3-1.5.5-.7.9-1.5,1.1-2.3.2-.8.3-1.7.3-2.4s-.1-1.6-.3-2.4c-.2-.8-.6-1.6-1.1-2.3-.5-.7-1.3-1.2-2.3-1.5-.4-.1-.8-.2-1.3-.2s-.9,0-1.3,0c0,0-8.9,0-8.9,0Z"/><path class="st1" d="M87.6,67.3h-25.7V25.2h25.7v7.4h-18.3v9h15v7.4h-15v10.8h18.3v7.4h0Z"/><path class="st1" d="M100.5,67.3h-7.7l12-42.1h11.1l12,42.1h-7.7l-10.7-37.1h1.4l-10.6,37.1h0ZM120.8,58.6h-20.8v-7.4h20.8v7.4Z"/><path class="st1" d="M141.7,67.3h-7.4V25.2h7.4v19.4l15-19.4h9.1l-16.5,20.8,17.5,21.3h-9.4l-15.7-19.2v19.2h0Z"/><path class="st1" d="M31.9,124.7h-6.9v-42.1h6.7l13,28,13-27.9h6.7v42.1h-6.9v-25.1l-11.4,25.1h-2.6l-11.4-25.1s0,25.1,0,25.1Z"/><path class="st1" d="M90.3,125.5c-3.9,0-7.3-.9-10.2-2.8s-5.1-4.4-6.6-7.7c-1.5-3.3-2.3-7.1-2.3-11.5s.8-8.2,2.3-11.5-3.7,5.9,6.6-7.7,6.2-2.8,10.2-2.8,7.3.9,10.2,2.8c2.8,1.8,5.1,4.4,6.6,7.7s2.3,7.1,2.3,11.5-.8,8.2-2.3,11.5-3.7,5.9-6.6,7.7-6.2,2.8-10.2,2.8ZM90.3,118.1c2.5,0,4.6-.5,6.2-1.7,1.7-1.2,2.9-2.9,3.7-5.1.8-2.2,1.2-4.7,1.2-7.7s-.4-5.5-1.2-7.6c-.8-2.1-2.1-3.8-3.7-5s-3.7-1.8-6.2-1.8c-2.5,0-4.6.5-6.2,1.7-1.7,1.2-2.9,2.9-3.7,5.1s-1.2,4.7-1.2,7.7.4,5.5,1.2,7.6c.8,2.1,2.1,3.8,3.7,5s3.7,1.8,6.2,1.8Z"/><path class="st1" d="M133.7,124.7h-17.4v-42.1h15.8c2.8,0,5.1.6,6.8,1.8,1.7,1.2,3,2.7,3.8,4.5.8,1.8,1.2,3.6,1.2,5.5s-.5,4.3-1.5,5.9-2.4,2.6-4.1,3.1v-1.5c2.5.6,4.3,1.8,5.5,3.7s1.9,4,1.9,6.3-.4,4.7-1.3,6.6c-.9,1.9-2.2,3.4-3.9,4.5-1.8,1.1-4,1.6-6.7,1.6h0ZM123.8,90v9h8.1c.8,0,1.6-.2,2.2-.5.7-.3,1.2-.8,1.6-1.4.4-.7.6-1.5.6-2.5s-.4-2.4-1.1-3.2c-.8-.9-1.8-1.3-3.2-1.3h-8.1ZM123.8,106.4v10.8h9.1c1,0,1.9-.2,2.7-.7s1.4-1.1,1.9-1.9c.4-.8.7-1.8.7-2.9s-.2-1.9-.6-2.7-1-1.4-1.7-1.9c-.8-.5-1.7-.7-2.9-.7h-9.1Z"/><path class="st1" d="M160.4,124.7h-7.4v-42.1h7.4v42.1Z"/><path class="st1" d="M194.9,124.7h-24.4v-42.1h7.4v34.7h16.9v7.4Z"/><path class="st1" d="M208.9,124.7h-7.4v-42.1h7.4v42.1Z"/><path class="st1" d="M235,124.7h-7.4v-34.7h-12.4v-7.4h32.3v7.4h-12.4v34.7h0Z"/><path class="st1" d="M272,124.7h-7.5v-17.1l-13.4-25h8.7l8.5,15.8,8.5-15.8h8.7l-13.5,25v17.1h0Z"/></g>
                    </svg>
                    <h1 class="font-bold text-2xl text-gray-900">PEAK.X</h1>
                </div>
                <p class="text-sm text-gray-500 mt-1">Doc <strong>General Usage</strong></p>
                <div class="mt-2 inline-block px-2 py-0.5 bg-peak-orange/10 text-peak-orange text-xs rounded-full border border-peak-orange/20">v1.3 Docs</div>
            </div>
            
            <nav class="p-4 space-y-1 text-sm">
                <a href="#introduction" class="nav-item block px-4 py-2 text-gray-600 hover:bg-gray-50 hover:text-gray-900 rounded-r border-l-4 border-transparent transition-all">1. Introduction</a>
                <a href="#modules" class="nav-item block px-4 py-2 text-gray-600 hover:bg-gray-50 hover:text-gray-900 rounded-r border-l-4 border-transparent transition-all">2. Modules & Scope</a>
                <a href="#methods" class="nav-item block px-4 py-2 text-gray-600 hover:bg-gray-50 hover:text-gray-900 rounded-r border-l-4 border-transparent transition-all">3. HTTP Methods & JSON</a>
                <a href="#retrieval" class="nav-item block px-4 py-2 text-gray-600 hover:bg-gray-50 hover:text-gray-900 rounded-r border-l-4 border-transparent transition-all">4. Data Retrieval</a>
                <div class="pl-4">
                    <a href="#polling" class="nav-item block px-4 py-1.5 text-gray-500 hover:text-peak-orange text-xs border-l border-gray-200">Polling</a>
                    <a href="#long-polling" class="nav-item block px-4 py-1.5 text-gray-500 hover:text-peak-orange text-xs border-l border-gray-200">Long Polling (Stream)</a>
                    <a href="#callback" class="nav-item block px-4 py-1.5 text-gray-500 hover:text-peak-orange text-xs border-l border-gray-200">Callback</a>
                </div>
                <a href="#security" class="nav-item block px-4 py-2 text-gray-600 hover:bg-gray-50 hover:text-gray-900 rounded-r border-l-4 border-transparent transition-all">5. Security & Rate Limiting</a>
                <a href="#configuration" class="nav-item block px-4 py-2 text-gray-600 hover:bg-gray-50 hover:text-gray-900 rounded-r border-l-4 border-transparent transition-all">6. Configuration</a>
            </nav>
        </aside>

        <main class="flex-1 lg:ml-72 w-full max-w-5xl mx-auto p-6 lg:p-12 pb-32">
            
            <header class="mb-12 border-b pb-6">
                <h1 class="text-4xl font-bold text-gray-900 mb-4">OpenAPI Interfaces for PEAK.X</h1>
                <p class="text-lg text-gray-600">General Usage Instructions for Developers. Covers branding, terminology, communication patterns, and configuration.</p>
                <div class="mt-4 flex gap-4 text-sm text-gray-500">
                    <span><strong>Date:</strong> 04.11.2025</span>
                    <span><strong>Status:</strong> In Progress</span>
                    <span><strong>Confidentiality:</strong> Customers of Peak Mobility GmbH</span>
                </div>
            </header>

            <section id="introduction" class="mb-16 scroll-mt-24">
                <h2 class="text-2xl font-bold text-gray-900 mb-4 border-l-4 border-peak-orange pl-3">1. Introduction</h2>
                
                <div class="prose max-w-none text-gray-600">
                    <h3 class="text-lg font-semibold text-gray-800 mt-6 mb-2">1.1 Product Branding and Terminology</h3>
                    <p class="mb-4">
                        The software platform formerly known as "PSItraffic" is hereinafter branded as <strong>PEAK.X</strong>. This platform serves as the technical foundation for industry-specific solutions, including:
                    </p>
                    <ul class="list-disc pl-5 space-y-1 mb-4">
                        <li><strong>PEAK.DMS</strong> (Depot Management System)</li>
                        <li><strong>PEAK.TMS</strong> (Train Management System)</li>
                        <li><strong>PEAK.ITCS</strong> (Intermodal Transport Control System)</li>
                    </ul>
                    <p class="mb-4">The OpenAPI specifications described in this manual apply generally to the <strong>PEAK.X</strong> platform.</p>

                    <h3 class="text-lg font-semibold text-gray-800 mt-6 mb-2">1.2 About This Manual</h3>
                    <p class="mb-4">This manual serves as a central resource for developers and administrators. It covers API specifications, endpoints, operations, and data models.</p>
                    
                    <div class="grid md:grid-cols-2 gap-6 mt-4">
                        <div class="bg-peak-green/10 p-4 rounded-lg border border-peak-green/20">
                            <h4 class="font-bold text-gray-900 text-sm mb-1">Purpose</h4>
                            <p class="text-sm">To define the API in a way that is both human-readable and machine-readable, enabling automated tool integration.</p>
                        </div>
                        <div class="bg-peak-green/10 p-4 rounded-lg border border-peak-green/20">
                            <h4 class="font-bold text-gray-900 text-sm mb-1">Audience</h4>
                            <p class="text-sm">Developers at public transport companies integrating interfaces and System Administrators configuring the system.</p>
                        </div>
                    </div>
                </div>
            </section>

            <section id="modules" class="mb-16">
                <h2 class="text-2xl font-bold text-gray-900 mb-4 border-l-4 border-peak-orange pl-3">2. Modules & Scope</h2>
                <p class="mb-4 text-gray-600">The OpenAPI interfaces of PEAK.X systems are organized into modular components.</p>
                
                <div class="overflow-x-auto border rounded-lg shadow-sm bg-white">
                    <table class="min-w-full text-sm text-left text-gray-600 modules-table">
                        <thead class="text-xs text-gray-700 uppercase bg-gray-100 border-b">
                            <tr>
                                <th scope="col" class="px-6 py-3 w-1/3">OpenAPI</th>
                                <th scope="col" class="px-6 py-3">Description / Usage</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-gray-200">
                            <tr><td colspan="2" class="px-6 py-2 bg-gray-50 font-bold text-gray-800">Module: Localization</td></tr>
                            <tr class="hover:bg-gray-50"><td class="px-6 py-3 font-mono font-medium text-peak-orange">Geo Positioning</td><td class="px-6 py-3">Seamless transmission of geo-positioning data.</td></tr>
                            <tr class="hover:bg-gray-50"><td class="px-6 py-3 font-mono font-medium text-peak-orange">Vehicle at Device</td><td class="px-6 py-3">Transmit vehicle location tracked by a stationary device.</td></tr>
                            <tr class="hover:bg-gray-50"><td class="px-6 py-3 font-mono font-medium text-peak-orange">Planned Vehicle Depot Position</td><td class="px-6 py-3">Request planned depot vehicle positions.</td></tr>
                            <tr class="hover:bg-gray-50"><td class="px-6 py-3 font-mono font-medium text-peak-orange">Vehicle Depot Position</td><td class="px-6 py-3">Request vehicle's exact depot position.</td></tr>
                            
                            <tr><td colspan="2" class="px-6 py-2 bg-gray-50 font-bold text-gray-800">Module: Block Management</td></tr>
                            <tr class="hover:bg-gray-50"><td class="px-6 py-3 font-mono font-medium text-peak-orange">Actual Vehicle to Block Assignment</td><td class="px-6 py-3">Send vehicles to block/journey sign-on or sign-off data.</td></tr>

                            <tr><td colspan="2" class="px-6 py-2 bg-gray-50 font-bold text-gray-800">Module: Charging Management</td></tr>
                            <tr class="hover:bg-gray-50"><td class="px-6 py-3 font-mono font-medium text-peak-orange">Charging Point Master Data</td><td class="px-6 py-3">Import charging point master data; real-time state retrieval.</td></tr>
                            <tr class="hover:bg-gray-50"><td class="px-6 py-3 font-mono font-medium text-peak-orange">Weather Forecast</td><td class="px-6 py-3">Send weather forecast data for energy demand calculation.</td></tr>

                            <tr><td colspan="2" class="px-6 py-2 bg-gray-50 font-bold text-gray-800">Module: Fleet Management</td></tr>
                            <tr class="hover:bg-gray-50"><td class="px-6 py-3 font-mono font-medium text-peak-orange">Vehicle Depot Departures</td><td class="px-6 py-3">Retrieve list of depot departures.</td></tr>
                            <tr class="hover:bg-gray-50"><td class="px-6 py-3 font-mono font-medium text-peak-orange">Vehicle Diagnostics</td><td class="px-6 py-3">Transmit vehicle diagnostic data.</td></tr>
                            <tr class="hover:bg-gray-50"><td class="px-6 py-3 font-mono font-medium text-peak-orange">Vehicle Master Data</td><td class="px-6 py-3">Import/update vehicle master data.</td></tr>
                            <tr class="hover:bg-gray-50"><td class="px-6 py-3 font-mono font-medium text-peak-orange">Estimated Time of Depot Arrival</td><td class="px-6 py-3">Send actual estimated time of depot arrivals (ETA).</td></tr>

                            <tr><td colspan="2" class="px-6 py-2 bg-gray-50 font-bold text-gray-800">Module: Maintenance</td></tr>
                            <tr class="hover:bg-gray-50"><td class="px-6 py-3 font-mono font-medium text-peak-orange">Carbon Brush</td><td class="px-6 py-3">Sending carbon brush status.</td></tr>
                            <tr class="hover:bg-gray-50"><td class="px-6 py-3 font-mono font-medium text-peak-orange">Maintenance Order</td><td class="px-6 py-3">Synchronize maintenance orders.</td></tr>
                            <tr class="hover:bg-gray-50"><td class="px-6 py-3 font-mono font-medium text-peak-orange">Vehicle Refuel</td><td class="px-6 py-3">Transmitting a refueling message.</td></tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <section id="methods" class="mb-16">
                <h2 class="text-2xl font-bold text-gray-900 mb-4 border-l-4 border-peak-orange pl-3">3. HTTP Methods & JSON Format</h2>
                
                <div class="grid md:grid-cols-2 gap-6 mb-8">
                    <div>
                        <h3 class="text-lg font-semibold mb-2">Supported Methods</h3>
                        <ul class="space-y-2 text-sm text-gray-600">
                            <li class="flex items-center gap-2"><span class="px-2 py-1 bg-blue-100 text-blue-800 font-mono text-xs rounded">GET</span> Retrieve data from server.</li>
                            <li class="flex items-center gap-2"><span class="px-2 py-1 bg-green-100 text-green-800 font-mono text-xs rounded">POST</span> Create new resources.</li>
                            <li class="flex items-center gap-2"><span class="px-2 py-1 bg-orange-100 text-orange-800 font-mono text-xs rounded">PUT</span> Update existing resources.</li>
                            <li class="flex items-center gap-2"><span class="px-2 py-1 bg-red-100 text-red-800 font-mono text-xs rounded">DELETE</span> Delete resources.</li>
                        </ul>
                    </div>
                    <div>
                        <h3 class="text-lg font-semibold mb-2">Response Handling</h3>
                        <ul class="space-y-2 text-sm text-gray-600">
                            <li class="flex items-center gap-2"><span class="font-mono font-bold text-green-600">200/201/202</span> Success / Created / Accepted</li>
                            <li class="flex items-center gap-2"><span class="font-mono font-bold text-red-500">400</span> Bad Request (Malformed Syntax)</li>
                            <li class="flex items-center gap-2"><span class="font-mono font-bold text-red-500">401</span> Unauthorized (Auth missing/invalid)</li>
                            <li class="flex items-center gap-2"><span class="font-mono font-bold text-red-500">500</span> Internal Server Error</li>
                        </ul>
                    </div>
                </div>

                <h3 class="font-semibold text-gray-800 mb-2">Example Request (JSON)</h3>
                <div class="border rounded-lg overflow-hidden shadow-sm bg-white relative group mb-6">
                    <button class="copy-btn absolute top-2 right-2 bg-gray-700 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity z-10">Copy</button>
                    <pre><code class="language-json">{
  "vehicleId": "12345",
  "status": "available",
  "location": {
    "latitude": 52.5200,
    "longitude": 13.4050
  },
  "timestamp": "2024-10-18T10:00:00Z"
}</code></pre>
                </div>

                <h3 class="font-semibold text-gray-800 mb-2">Example Response (JSON)</h3>
                <div class="border rounded-lg overflow-hidden shadow-sm bg-white relative group">
                    <button class="copy-btn absolute top-2 right-2 bg-gray-700 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity z-10">Copy</button>
                    <pre><code class="language-json">{
  "vehicleId": "12345",
  "status": "available",
  "location": {
    "latitude": 52.5200,
    "longitude": 13.4050
  },
  "lastUpdated": "2024-10-18T10:00:00Z"
}</code></pre>
                </div>
            </section>

            <section id="retrieval" class="mb-16">
                <h2 class="text-2xl font-bold text-gray-900 mb-6 border-l-4 border-peak-orange pl-3">4. Data Retrieval Methods</h2>
                <p class="text-gray-600 mb-8">PEAK.X systems provide multiple communication methods. Each method balances latency, network usage, and complexity.</p>

                <div id="polling" class="mb-12">
                    <h3 class="text-xl font-bold text-gray-800 mb-3">4.1 Polling</h3>
                    <p class="text-gray-600 text-sm mb-4">
                        <strong>Polling</strong> is the simplest method: the client sends an HTTP GET request to a resource endpoint. The server responds immediately with the current data.
                    </p>
                    <div class="bg-white border rounded p-4 shadow-sm">
                        <img src="media/image4.png" alt="Sequence diagram of retrieving data via polling" class="max-w-full h-auto mx-auto rounded">
                        <p class="text-xs text-center text-gray-400 mt-2">Figure 3: Sequence diagram of retrieving data via polling.</p>
                    </div>
                </div>

                <div id="long-polling" class="mb-12">
                    <h3 class="text-xl font-bold text-gray-800 mb-3">4.2 Long Polling (Stream)</h3>
                    <p class="text-gray-600 text-sm mb-4">
                        <strong>Long Polling</strong> keeps the connection open until new information becomes available or a timeout occurs (default: 20s). 
                        The client can include a <code>clientId</code> to receive only incremental updates.
                    </p>
                    <div class="bg-peak-green/10 border-l-4 border-peak-green p-4 mb-4">
                        <h4 class="text-sm font-bold text-peak-dark mb-1">Handling Client ID</h4>
                        <ul class="list-disc pl-5 text-sm text-gray-700 space-y-1">
                            <li><strong>Empty/Unknown ID:</strong> Server returns complete current dataset.</li>
                            <li><strong>Known ID:</strong> Server returns only changed data.</li>
                            <li><strong>Timeout:</strong> If no data changes, returns empty list.</li>
                        </ul>
                    </div>
                    <div class="bg-white border rounded p-4 shadow-sm">
                        <img src="media/image5.png" alt="Sequence diagram of retrieving data via long polling" class="max-w-full h-auto mx-auto rounded">
                        <p class="text-xs text-center text-gray-400 mt-2">Figure 4: Sequence diagram of retrieving data via long polling.</p>
                    </div>
                </div>

                <div id="callback" class="mb-12">
                    <h3 class="text-xl font-bold text-gray-800 mb-3">4.3 Callback</h3>
                    <p class="text-gray-600 text-sm mb-4">
                        <strong>Callback</strong> is an asynchronous, real-time technique. The client <strong>subscribes</strong> to the service via HTTP POST, providing a callback URL. 
                        The server initiates POST requests to the client whenever new data is available.
                    </p>
                    <div class="bg-white border rounded p-4 shadow-sm">
                        <img src="media/image6.png" alt="Sequence diagram of retrieving data via callback" class="max-w-full h-auto mx-auto rounded">
                        <p class="text-xs text-center text-gray-400 mt-2">Figure 5: Sequence diagram of retrieving data via callback.</p>
                    </div>
                </div>
            </section>

            <section id="security" class="mb-16">
                <h2 class="text-2xl font-bold text-gray-900 mb-4 border-l-4 border-peak-orange pl-3">5. Security & Rate Limiting</h2>
                
                <div class="grid md:grid-cols-2 gap-6">
                    <div class="bg-white p-5 rounded-lg border shadow-sm">
                        <h3 class="font-semibold text-gray-900 mb-2 flex items-center gap-2">
                            <i data-lucide="lock" class="w-5 h-5 text-peak-orange"></i> Authentication
                        </h3>
                        <ul class="list-disc pl-5 text-sm text-gray-700 space-y-2">
                            <li><strong>None:</strong> Not recommended for production.</li>
                            <li><strong>BasicAuth:</strong> Base64 encoded <code>username:password</code> in Header.</li>
                        </ul>
                    </div>
                    <div class="bg-white p-5 rounded-lg border shadow-sm">
                        <h3 class="font-semibold text-gray-900 mb-2 flex items-center gap-2">
                            <i data-lucide="shield" class="w-5 h-5 text-peak-orange"></i> Encryption
                        </h3>
                        <p class="text-sm text-gray-700 mb-2">
                            <strong>HTTPS</strong> is highly recommended to guarantee data encryption (Authentication tokens, credentials).
                        </p>
                        <p class="text-xs text-gray-500">Standard Ports: HTTP 5600, HTTPS 5601.</p>
                    </div>
                </div>

                <div class="mt-6 bg-gray-50 p-5 rounded-lg border">
                    <h3 class="font-semibold text-gray-900 mb-2">Rate Limiting</h3>
                    <p class="text-sm text-gray-700 mb-4">
                        Prevents abuse by defining maximum permits per timeframe.
                    </p>
                    <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 text-sm">
                        <div class="bg-white p-3 rounded border"><span class="block text-xs text-gray-500 uppercase">PermitLimit</span><strong>100</strong></div>
                        <div class="bg-white p-3 rounded border"><span class="block text-xs text-gray-500 uppercase">QueueLimit</span><strong>2</strong></div>
                        <div class="bg-white p-3 rounded border"><span class="block text-xs text-gray-500 uppercase">Window</span><strong>10s</strong></div>
                    </div>
                </div>

                <div class="mt-6">
                    <h3 class="font-semibold text-gray-900 mb-2">Localization & Time Zones</h3>
                    <p class="text-sm text-gray-600">
                        <strong>ISO 8601</strong> is used for all time inputs/outputs (UTC). 
                        Example: <code>2024-10-18T10:00:00Z</code>.
                    </p>
                </div>
            </section>

            <section id="configuration" class="mb-16">
                <h2 class="text-2xl font-bold text-gray-900 mb-4 border-l-4 border-peak-orange pl-3">6. Configuration</h2>
                
                <div class="bg-white p-6 rounded-lg border shadow-sm space-y-6">
                    
                    <div>
                        <h4 class="font-bold text-gray-800 flex items-center gap-2">
                            <i data-lucide="toggle-right" class="w-5 h-5 text-peak-green"></i> Activating Interfaces
                        </h4>
                        <p class="text-sm text-gray-600 mt-2">
                            In PEAK.X View Maintenance, filter for "Open API". Enable interfaces by setting the property <em>Activated</em> to "Yes".
                        </p>
                        <div class="mt-4 grid md:grid-cols-2 gap-4">
                            <div class="border rounded p-2">
                                <img src="media/image7.png" alt="List of OpenAPI Interfaces" class="w-full h-auto">
                                <p class="text-xs text-center mt-1 text-gray-400">Task List</p>
                            </div>
                            <div class="border rounded p-2">
                                <img src="media/image8.png" alt="Activation Dialog" class="w-full h-auto">
                                <p class="text-xs text-center mt-1 text-gray-400">Property: Activated</p>
                            </div>
                        </div>
                    </div>
                    <hr>

                    <div>
                        <h4 class="font-bold text-gray-800 flex items-center gap-2">
                            <i data-lucide="settings" class="w-5 h-5 text-peak-green"></i> HTTPS Configuration
                        </h4>
                        <p class="text-sm text-gray-600 mt-2 mb-4">
                            To setup encrypted connection, the OpenAPI server requires an SSL server certificate.
                        </p>
                        
                        <div class="overflow-x-auto border rounded">
                            <table class="min-w-full text-sm">
                                <thead class="bg-gray-100 text-left">
                                    <tr><th class="px-4 py-2">Parameter</th><th class="px-4 py-2">Value</th><th class="px-4 py-2">Description</th></tr>
                                </thead>
                                <tbody class="divide-y">
                                    <tr><td class="px-4 py-2 font-mono">HttpsEnabled</td><td class="px-4 py-2">1 (True)</td><td class="px-4 py-2">Enables HTTPS.</td></tr>
                                    <tr><td class="px-4 py-2 font-mono">HttpsPortNumber</td><td class="px-4 py-2">5601</td><td class="px-4 py-2">Standard secure port.</td></tr>
                                    <tr><td class="px-4 py-2 font-mono">HttpsCertificateStore</td><td class="px-4 py-2">My</td><td class="px-4 py-2">Cert Store Name.</td></tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="mt-4 border rounded p-2 max-w-md">
                            <img src="media/image11.png" alt="HTTPS Config" class="w-full h-auto">
                        </div>
                    </div>
                </div>
            </section>

        </main>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-json.min.js"></script>

    <script>
        // Init Icons
        window.addEventListener('DOMContentLoaded', () => {
            if (typeof lucide !== 'undefined') {
                lucide.createIcons();
            }
        });

        // Mobile Menu
        const mobileBtn = document.getElementById('mobile-menu-btn');
        const sidebar = document.getElementById('sidebar');
        mobileBtn.addEventListener('click', () => {
            sidebar.classList.toggle('-translate-x-full');
        });

        // Scroll Spy
        const sections = document.querySelectorAll('section');
        const navItems = document.querySelectorAll('.nav-item');

        window.addEventListener('scroll', () => {
            let current = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                if (scrollY >= (sectionTop - 150)) {
                    current = section.getAttribute('id');
                }
            });

            navItems.forEach(li => {
                li.classList.remove('active');
                if (li.getAttribute('href').includes(current) && current !== '') {
                    li.classList.add('active');
                }
            });
        });

        // Copy Button
        document.querySelectorAll('.copy-btn').forEach(btn => {
            btn.addEventListener('click', (e) => {
                const pre = e.target.parentElement.querySelector('pre');
                const code = pre.textContent;
                navigator.clipboard.writeText(code).then(() => {
                    const original = e.target.textContent;
                    e.target.textContent = 'Copied!';
                    setTimeout(() => { e.target.textContent = original; }, 2000);
                });
            });
        });
    </script>
</body>
</html>
